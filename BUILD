cc_library(
    name="cpprestsdk",
    srcs=[
                "Release/src/streams/fileio_posix.cpp",
                "Release/src/websockets/client/ws_msg.cpp",
                "Release/src/websockets/client/ws_client.cpp",
                "Release/src/utilities/asyncrt_utils.cpp",
                "Release/src/utilities/base64.cpp",
                "Release/src/utilities/web_utilities.cpp",
                "Release/src/json/json.cpp",
                "Release/src/json/json_serialization.cpp",
                "Release/src/json/json_parsing.cpp",
                "Release/src/http/client/http_client_msg.cpp",
                "Release/src/http/client/http_client.cpp",
                "Release/src/http/client/http_client_asio.cpp",
                "Release/src/http/client/x509_cert_utilities.cpp",
                "Release/src/http/oauth/oauth1.cpp",
                "Release/src/http/oauth/oauth2.cpp",
                "Release/src/http/common/http_compression.cpp",
                "Release/src/http/common/http_msg.cpp",
                "Release/src/http/common/http_helpers.cpp",
                "Release/src/http/listener/http_server_asio.cpp",
                #"Release/src/http/listener/http_server_httpsys.cpp",
                "Release/src/http/listener/http_server_api.cpp",
                "Release/src/http/listener/http_listener_msg.cpp",
                "Release/src/http/listener/http_listener.cpp",
                "Release/src/pplx/threadpool.cpp",
                "Release/src/pplx/pplx.cpp",
                "Release/src/pplx/pplxlinux.cpp",
                "Release/src/uri/uri_builder.cpp",
                "Release/src/uri/uri.cpp",
                "Release/src/pch/stdafx.cpp",
    ],
    incs=["Release/src/pch"],
    export_incs=["Release/include"],
    deps=[
        "cpp3rdlib/boost:1.56.0@//cpp3rdlib//boost:boost",
        "cpp3rdlib/openssl:1.0.1@//cpp3rdlib//openssl:ssl",
        "#pthread",
        "cpp3rdlib/boost:1.56.0@//cpp3rdlib//boost:boost_system",
    ],
    optimize=["-O3","-pthread","-Wno-sign-compare"],
    #build_dynamic=True,
    #prebuilt=True,
)

